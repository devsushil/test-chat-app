<div class="chat">
  <div *ngIf="loading">Loading...</div>
  <div class="chat-container" *ngIf="!loading">
    <div class="chat-container__left">
      <app-component-sidebar>
        <!-- Header -->
        <app-chat-header>
          <div class="chat-container__left--search">
            <app-component-searchbar></app-component-searchbar>
          </div>
        </app-chat-header>

        <!-- Content -->
        <div class="chat-container__left--messages__container">
          <user-component-sidebar
            *ngFor="let conversation of converstaions"
            active="{{conversation.active}}"
            fullname="{{conversation.fullname}}"
            lastMessage="{{conversation.lastMessage}}"
            date="{{conversation.date}}"
          ></user-component-sidebar>
        </div>
      </app-component-sidebar>
    </div>
    <div class="chat-container__right">
      <app-chat-header>
        <div class="chat-container__right--header">
          <div class="chat-container__right--header__user">
            <h3>{{user.name}} {{user.surname}}</h3>
          </div>

          <div class="chat-container__right--header__delete">
            <i class="fa fa-trash"></i>
          </div>
        </div>
      </app-chat-header>
      <!-- content -->
      <div class="chat-container__right--messages" id="chat-container">
        <message-component
          *ngFor="let message of activeConversationMessages"
          [me]="getMe(message.from)"
          message="{{message.message}}"
          date="{{message.date}}"
        ></message-component>
      </div>

      <!-- input Box -->
      <div class="chat-container__right--input">
        <input
          [(ngModel)]="currentMessage"
          (keyup.enter)="sendMsg()"
          type="text"
          placeholder="Send Message.."
          name="search"
        />
      </div>
    </div>
  </div>
</div>
